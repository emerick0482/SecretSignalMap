<!DOCTYPE html>
<html>
<head>
  <title>SecretSignal Map</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTKBmTNdbxTvSMCF5ifZhGc7nvY1DMc-s"></script>
  <script>
    function initMap() {
      const dbUrl = "https://secretsignal-b083f.firebaseio.com/locations/user123.json"; // Updated with your Project ID
      fetch(dbUrl)
        .then(response => response.json())
        .then(data => {
          if (data && data.latitude && data.longitude) {
            const map = new google.maps.Map(document.getElementById("map"), {
              center: { lat: data.latitude, lng: data.longitude },
              zoom: 15
            });
            new google.maps.Marker({
              position: { lat: data.latitude, lng: data.longitude },
              map: map
            });
          } else {
            console.log("No location data available");
            const defaultMap = new google.maps.Map(document.getElementId("map"), {
              center: { lat: 37.7749, lng: -122.4194 }, // Default to San Francisco
              zoom: 10
            });
          }
        })
        .catch(error => console.error("Error fetching location data:", error));
    }
  </script>
</head>
<body onload="initMap()">
  <div id="map" style="height: 400px; width: 100%;"></div>
</body>
</html>
